<app-header></app-header>
<div class="row">
    <div class="col s4 offset-m4 center">
        <form [formGroup]="filterForm" (ngSubmit)="search()">
            <input style="text-align: center;" id="search" type="text" class="validate" formControlName="search">
            <label for="search">
                <i class="material-icons prefix">find_in_page</i>
            </label>
        </form>
    </div>
</div>
<div *ngIf="!loaded" class="row" style="margin-top: 3vh; margin-bottom: 3vh;">
    <div class="col s12 center">
        <div class="preloader-wrapper big active">
            <div class="spinner-layer spinner-blue-only">
                <div class="circle-clipper left">
                    <div class="circle"></div>
                </div>
                <div class="gap-patch">
                    <div class="circle"></div>
                </div>
                <div class="circle-clipper right">
                    <div class="circle"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <ng-container *ngFor="let authorBook of authorBooks; let i = index;">
        <div class="col s4">
            <div class="card indigo darker author z-depth-5">
                <div class="card-content white-text">
                    <span class="card-title">
                        <i class="material-icons">person</i>
                        <b>{{ authorBook.author.name + " " + authorBook.author.surname}}</b>
                    </span>
                    <hr>
                    <p *ngFor="let book of authorBook.writtenBooks">
                        {{ book.title }}
                    </p>
                </div>
                <div class="card-action">
                    <i style="color: orange;" class="material-icons">star</i>
                    <i style="color: white;">{{ authorBook.author.dateOfBirth | date }}</i>
                    <i style="float: right;" class="indigo-text text-lighten-1"> {{ authorBook.author.id }}</i>
                </div>
            </div>
        </div>
        <div *ngIf="(i + 1) % 3 === 0" class="clearfix"></div>
    </ng-container>
</div>